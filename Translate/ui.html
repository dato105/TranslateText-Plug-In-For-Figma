<!DOCTYPE html>
<html>
  <head>
    <title>Text Translator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <input id="text" type="text" placeholder="Enter text to translate" />
    <input id="language" type="text" placeholder="Target language code" />
    <button id="translate">Translate</button>
    <div id="result"></div>

    <script>
      document.getElementById("translate").onclick = () => {
        const text = document.getElementById("text").value;
        const targetLanguage = document.getElementById("language").value;
        parent.postMessage(
          { pluginMessage: { type: "translate", text, targetLanguage } },
          "*"
        );
      };

      onmessage = (event) => {
        if (event.data.pluginMessage.type === "translated") {
          document.getElementById("result").innerText =
            event.data.pluginMessage.text;
        }
      };
    </script>
  </body>
</html>
